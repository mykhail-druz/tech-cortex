<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Pagination Limit Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .test-container {
            max-width: 400px; /* Simulate mobile width */
            margin: 20px auto;
            border: 2px solid #e5e7eb;
            padding: 20px;
        }
        
        .desktop-container {
            max-width: 1200px; /* Simulate desktop width */
            margin: 20px auto;
            border: 2px solid #3b82f6;
            padding: 20px;
        }
        
        .indicator-active {
            background-color: #2563eb !important;
        }
        
        .indicator-inactive {
            background-color: #9ca3af !important;
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <h1 class="text-2xl font-bold text-center mb-8">Mobile Pagination Limit Test (Max 4 Indicators)</h1>
    
    <!-- Mobile simulation with 8 images -->
    <div class="test-container">
        <h2 class="text-lg font-semibold mb-4">Mobile (400px width) - 8 images, max 4 indicators visible</h2>
        <div class="w-full max-w-full overflow-x-auto mt-4 px-4">
            <div id="mobile-indicators" class="flex justify-center space-x-2 min-w-max">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        <div class="mt-4 text-center">
            <p class="text-sm mb-2">Current slide: <span id="current-slide">1</span> of 8</p>
            <button onclick="goToSlide(0)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">1</button>
            <button onclick="goToSlide(1)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">2</button>
            <button onclick="goToSlide(2)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">3</button>
            <button onclick="goToSlide(3)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">4</button>
            <button onclick="goToSlide(4)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">5</button>
            <button onclick="goToSlide(5)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">6</button>
            <button onclick="goToSlide(6)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">7</button>
            <button onclick="goToSlide(7)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs">8</button>
        </div>
    </div>
    
    <!-- Desktop simulation with 8 images -->
    <div class="desktop-container">
        <h2 class="text-lg font-semibold mb-4">Desktop (1200px width) - 8 images, all indicators visible</h2>
        <div class="w-full max-w-full overflow-visible mt-4 px-4">
            <div id="desktop-indicators" class="flex justify-center space-x-2 min-w-max">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        <div class="mt-4 text-center">
            <p class="text-sm mb-2">Current slide: <span id="desktop-current-slide">1</span> of 8</p>
            <button onclick="goToDesktopSlide(0)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">1</button>
            <button onclick="goToDesktopSlide(1)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">2</button>
            <button onclick="goToDesktopSlide(2)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">3</button>
            <button onclick="goToDesktopSlide(3)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">4</button>
            <button onclick="goToDesktopSlide(4)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">5</button>
            <button onclick="goToDesktopSlide(5)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">6</button>
            <button onclick="goToDesktopSlide(6)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mr-1">7</button>
            <button onclick="goToDesktopSlide(7)" class="bg-blue-500 text-white px-2 py-1 rounded text-xs">8</button>
        </div>
    </div>
    
    <!-- Test Results -->
    <div class="text-center mt-8 p-4 bg-white rounded-lg shadow max-w-4xl mx-auto">
        <h3 class="font-semibold mb-4">Test Results:</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-left">
            <div>
                <h4 class="font-medium mb-2">âœ… Mobile Expected Behavior:</h4>
                <ul class="space-y-1 text-gray-600">
                    <li>â€¢ Maximum 4 indicators visible at any time</li>
                    <li>â€¢ Active indicator always visible and centered</li>
                    <li>â€¢ Sliding window moves with current slide</li>
                    <li>â€¢ Hidden indicators don't take up space</li>
                    <li>â€¢ Smooth transitions between visible sets</li>
                </ul>
            </div>
            <div>
                <h4 class="font-medium mb-2">âœ… Desktop Expected Behavior:</h4>
                <ul class="space-y-1 text-gray-600">
                    <li>â€¢ All 8 indicators always visible</li>
                    <li>â€¢ No scrolling or hiding behavior</li>
                    <li>â€¢ Larger indicator size (192px vs 64px)</li>
                    <li>â€¢ Same functionality as before</li>
                    <li>â€¢ No regression in desktop experience</li>
                </ul>
            </div>
        </div>
        
        <div class="mt-4 p-3 bg-yellow-50 rounded border border-yellow-200">
            <h4 class="font-medium text-yellow-800 mb-2">ðŸ§ª Test Scenarios:</h4>
            <p class="text-sm text-yellow-700">
                Try clicking different slide numbers to see how the mobile indicators adapt:<br>
                â€¢ Slides 1-2: Should show indicators 1,2,3,4<br>
                â€¢ Slides 3-6: Should show sliding window centered around active<br>
                â€¢ Slides 7-8: Should show indicators 5,6,7,8
            </p>
        </div>
    </div>

    <script>
        let currentIndex = 0;
        let desktopCurrentIndex = 0;
        const totalImages = 8;
        const maxMobileIndicators = 4;
        
        // Initialize indicators
        function initializeIndicators() {
            // Mobile indicators (64px each, max 4 visible)
            const mobileContainer = document.getElementById('mobile-indicators');
            for (let i = 0; i < totalImages; i++) {
                const indicator = document.createElement('button');
                indicator.id = `mobile-indicator-${i}`;
                indicator.className = `w-16 h-1 rounded-sm transition-all duration-300 ${i === 0 ? 'indicator-active' : 'indicator-inactive'}`;
                indicator.onclick = () => goToSlide(i);
                mobileContainer.appendChild(indicator);
            }
            
            // Desktop indicators (192px each, all visible)
            const desktopContainer = document.getElementById('desktop-indicators');
            for (let i = 0; i < totalImages; i++) {
                const indicator = document.createElement('button');
                indicator.id = `desktop-indicator-${i}`;
                indicator.className = `w-48 h-1 rounded-sm transition-all duration-300 ${i === 0 ? 'indicator-active' : 'indicator-inactive'}`;
                indicator.onclick = () => goToDesktopSlide(i);
                desktopContainer.appendChild(indicator);
            }
            
            updateMobileIndicators();
        }
        
        // Update mobile indicators visibility (simulate React logic)
        function updateMobileIndicators() {
            for (let i = 0; i < totalImages; i++) {
                const indicator = document.getElementById(`mobile-indicator-${i}`);
                
                // Calculate sliding window for mobile
                let showOnMobile = true;
                if (totalImages > maxMobileIndicators) {
                    const halfWindow = Math.floor(maxMobileIndicators / 2);
                    let startIndex = Math.max(0, currentIndex - halfWindow);
                    const endIndex = Math.min(totalImages - 1, startIndex + maxMobileIndicators - 1);
                    
                    // Adjust if we're near the end
                    if (endIndex - startIndex < maxMobileIndicators - 1) {
                        startIndex = Math.max(0, endIndex - maxMobileIndicators + 1);
                    }
                    
                    showOnMobile = i >= startIndex && i <= endIndex;
                }
                
                // Update visibility
                if (showOnMobile) {
                    indicator.classList.remove('hidden');
                    indicator.classList.add('block');
                } else {
                    indicator.classList.remove('block');
                    indicator.classList.add('hidden');
                }
                
                // Update active state
                if (i === currentIndex) {
                    indicator.className = indicator.className.replace('indicator-inactive', 'indicator-active');
                } else {
                    indicator.className = indicator.className.replace('indicator-active', 'indicator-inactive');
                }
            }
        }
        
        // Mobile slide navigation
        function goToSlide(index) {
            currentIndex = index;
            document.getElementById('current-slide').textContent = index + 1;
            updateMobileIndicators();
        }
        
        // Desktop slide navigation
        function goToDesktopSlide(index) {
            desktopCurrentIndex = index;
            document.getElementById('desktop-current-slide').textContent = index + 1;
            
            // Update desktop indicators
            for (let i = 0; i < totalImages; i++) {
                const indicator = document.getElementById(`desktop-indicator-${i}`);
                if (i === desktopCurrentIndex) {
                    indicator.className = indicator.className.replace('indicator-inactive', 'indicator-active');
                } else {
                    indicator.className = indicator.className.replace('indicator-active', 'indicator-inactive');
                }
            }
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initializeIndicators);
    </script>
</body>
</html>